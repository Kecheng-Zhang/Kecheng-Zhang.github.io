---
layout: index
title: Home
---

<div class="index_container">

    <!-- <div class="index_content index_item_0">Test 0</div> -->

    <div class="index_title" id="index-feature">Featured</div>
    <div class="index_content index_item_1" id="featured-1"></div>
    <div class="index_content index_item_3" id="featured-2"></div>
    <div class="index_content index_item_3" id="featured-3"></div>
    <div class="index_content index_item_3" id="featured-4"></div>

    <div class="index_title">Latest</div>
    <div class="index_content index_item_2" id="latest-1"></div>
    <div class="index_content index_item_2" id="latest-2"></div>
    <div class="index_content index_item_3" id="latest-3"></div>
    <div class="index_content index_item_3" id="latest-4"></div>
    <div class="index_content index_item_3" id="latest-5"></div>

    <div class="index_title" id="index-more">More</div>
    <div class="index_content index_item_3" id="more-1"></div>
    <div class="index_content index_item_3" id="more-2"></div>

    <div class="index_content index_item_3" id="more-3">
        <a href="/blog"><div class="index_content_img" id="more-3-img"></div></a>
        <div class="index_content_text" id="more-3-text">Test 12</div>
    </div>

    <a href="/blog" class="index_button">All Blogs</a>
    
</div>

<script>
    /**
     * Create a div element with a background image
     * @param {string} link - The link to the post
     * @param {string} img_src - The source of the image
     * @param {string} alt - The alt text of the image
     * @returns {HTMLDivElement} - The created div element
     */
    function createImg(link, img_src, alt = "Image") {
        img_src = "url(" + "{{ site.baseurl }}/img/" + postImg + ")";
        var linkElement = document.createElement("a");
        linkElement.href = link;
        var imgElement = document.createElement("div");
        imgElement.style.backgroundImage = img_src;
        imgElement.style.backgroundRepeat = "no-repeat";
        imgElement.style.backgroundPosition = "center";
        imgElement.style.backgroundSize = "cover";
        imgElement.style.height = "100%";
        imgElement.style.borderRadius = "16px 16px 0 0";
        linkElement.appendChild(imgElement);
        return linkElement;
    }

    /**
     * Create a div element with text
     * @param {string} link - The link to the post
     * @param {string} title - The title of the post
     * @param {string} date - The date of the post
     * @returns {HTMLDivElement} - The created div element
     */
    function createText(link, title, date) {
        var linkElement = document.createElement("a");
        linkElement.href = link;
        linkElement.style.borderRadius = "0 0 16px 16px";
        linkElement.style.backgroundColor = "#fff";
        linkElement.style.textDecoration = "none";
        linkElement.style.display = "grid";
        linkElement.style.gridTemplateRows = "2fr 1fr";
        var textElement = document.createElement("div");
        textElement.innerHTML = title;
        textElement.style.margin = "20px";
        textElement.style.fontSize = "20px";
        textElement.style.fontWeight = "bold";
        textElement.style.color = "#333";
        var subTextElement = document.createElement("div");
        subTextElement.innerHTML = date.split(" ")[0];
        subTextElement.style.fontSize = "18px";
        subTextElement.style.margin = "20px";
        subTextElement.style.fontWeight = "bold";
        subTextElement.style.color = "#808080"
        linkElement.appendChild(textElement);
        linkElement.appendChild(subTextElement);
        return linkElement;
    }

    /**
     * Hide a block
     * @param {string} id - The id of the block
     */
    function hideBlock(id) {
        document.getElementById(id).style.display = "none";
    }

    // Get the posts including the featured ones and the latest ones
    posts = {{ site.posts | jsonify }};
    var featured = [];
    var latest = [];
    for (i = 0; i < posts.length; i++) {
        if (posts[i].featured) {
            featured.push(posts[i]);
        } else {
            latest.push(posts[i]);
        }
    }
    console.log(posts);
    // Hide the featured blocks
    if (featured.length < 4) {
        hideBlock("featured-2");
        hideBlock("featured-3");
        hideBlock("featured-4");
    }
    if (featured.length < 1) {
        hideBlock("featured-1");
        hideBlock("index-feature");
    }

    // Hide the latest blocks
    if (latest.length < 5) {
        hideBlock("latest-3");
        hideBlock("latest-4");
        hideBlock("latest-5");
        hideBlock("index-more");
        hideBlock("more-1");
        hideBlock("more-2");
        hideBlock("more-3");
    }

    for (i = 0; i < Math.min(posts.length, 5); i++) {
        element = document.getElementById("latest-" + (i + 1));
        postImg = posts[i].img;
        if (postImg == null) {
            postImg = "default.jpg";
        }
        element.appendChild(createImg(posts[i].url, postImg, posts[i].title));
        element.appendChild(createText(posts[i].url, posts[i].title, posts[i].date));

    }

</script>